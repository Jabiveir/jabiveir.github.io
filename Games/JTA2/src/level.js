export default class level {
  Decompress(Letter) {
    if (Letter === "!") return 62;
    if (Letter === "#") return 63;
    if (Letter === "$") return 64;
    if (Letter === "%") return 65;
    if (Letter === "^") return 66;
    if (Letter === "&") return 67;
    if (Letter === "*") return 68;
    if (Letter === "(") return 69;
    if (Letter === ")") return 70;
    if (Letter === "@") return 71;
    if (Letter.toLowerCase() == Letter) return parseInt(Letter, 36);
    return parseInt(Letter, 36) + 26;
  }
  Compress(Num) {
    if (Num === 71) return "@";
    if (Num === 70) return ")";
    if (Num === 69) return "(";
    if (Num === 68) return "*";
    if (Num === 67) return "&";
    if (Num === 66) return "^";
    if (Num === 65) return "%";
    if (Num === 64) return "$";
    if (Num === 63) return "#";
    if (Num === 62) return "!";
    if (Num > 35) return (Num - 26).toString(36).toUpperCase();
    return Num.toString(36);
  }
  KeyCompress(Keys) {
    let Num = 0;
    if (Keys.TimeDown === Keys.TimeUp) Num += 1;
    else if (Keys.TimeUp) Num += 2;
    if (Keys.Left === Keys.Right) Num += 3;
    else if (Keys.Right) Num += 6;
    if (Keys.Up) Num += 9;
    if (Keys.Down) Num += 18;
    if (Keys.Dash) Num += 36;
    return this.Compress(Num);
  }
  KeyDecompress(Keys, Letter) {
    Keys.TimeDown = false;
    Keys.TimeUp = false;
    Keys.Left = false;
    Keys.Right = false;
    Keys.Up = false;
    Keys.Down = false;
    Keys.Dash = false;
    let Num = this.Decompress(Letter);
    if (Num % 3 === 0) Keys.TimeDown = true;
    else if (Num % 3 === 2) Keys.TimeUp = true;
    Num = Math.floor(Num / 3);
    if (Num % 3 === 0) Keys.Left = true;
    else if (Num % 3 === 2) Keys.Right = true;
    Num = Math.floor(Num / 3);
    if (Num % 2 === 1) Keys.Up = true;
    Num = Math.floor(Num / 2);
    if (Num % 2 === 1) Keys.Down = true;
    Num = Math.floor(Num / 2);
    if (Num === 1) Keys.Dash = true;
  }
  Decode(LevelCode) {
    LevelCode = this.Decode2(LevelCode);
    LevelCode = LevelCode.substring(0, LevelCode.indexOf(":"));
    let NumList = [];
    let CurrentBlock = 0;
    for (let i = 0; LevelCode[i] !== "@"; i += 2) {
      CurrentBlock = Math.floor(this.Decompress(LevelCode[i + 1]) / 16);
      CurrentBlock += Math.floor(this.Decompress(LevelCode[i]) / 16) * 4;
      NumList.push(CurrentBlock);
      NumList.push(this.Decompress(LevelCode[i]) % 16);
      NumList.push(this.Decompress(LevelCode[i + 1]) % 16);
    }
    for (let i = LevelCode.indexOf("@") + 1; i < LevelCode.length; i += 4) {
      CurrentBlock = 10000;
      if (this.Decompress(LevelCode[i + 3]) > 31) CurrentBlock *= 2;
      let index = this.Decompress(LevelCode[i]);
      index += this.Decompress(LevelCode[i + 1]) * 30;
      CurrentBlock += 100 * this.Decompress(LevelCode[i + 2]);
      CurrentBlock += this.Decompress(LevelCode[i + 3]) % 32;
      NumList[index] = CurrentBlock;
    }
    return NumList;
  }
  Encode(NumList) {
    let Str = "@";
    let Temp = 0;
    for (let i = 0; i < 600; i += 3) {
      Temp = 0;
      if (NumList[i] < 16) Temp += Math.floor(NumList[i] / 4) * 16;
      if (NumList[i + 1] < 16) Temp += NumList[i + 1];
      Str =
        Str.substring(0, Str.indexOf("@")) +
        this.Compress(Temp) +
        Str.substring(Str.indexOf("@"));
      Temp = 0;
      if (NumList[i] < 16) Temp += (NumList[i] % 4) * 16;
      if (NumList[i + 2] < 16) Temp += NumList[i + 2];
      Str =
        Str.substring(0, Str.indexOf("@")) +
        this.Compress(Temp) +
        Str.substring(Str.indexOf("@"));
      for (let j = 0; j < 3; j++) {
        if (NumList[i + j] > 16) {
          Str += this.Compress((i + j) % 30);
          Str += this.Compress(Math.floor((i + j) / 30));
          Str += this.Compress(Math.floor(NumList[i + j] / 100) % 100);
          Temp = NumList[i + j] % 100;
          Temp += 32 * Math.floor(NumList[i + j] / 10000 - 1);
          Str += this.Compress(Temp);
        }
      }
    }
    return this.Encode2(Str) + ":";
  }
  Decode2(LevelCode) {
    let NewCode = LevelCode;
    let Num = 0;
    let a = 0;
    let b = 0;
    while (NewCode.indexOf("(") >= 0) {
      a = NewCode.indexOf("(");
      b = NewCode.indexOf(")");
      Num = parseInt(NewCode.substring(a + 1, b), 10);
      for (let i = 1; i < Num; i++)
        NewCode =
          NewCode.substring(0, b + 1) +
          NewCode.substring(b + 1, b + 2) +
          NewCode.substring(b + 1);
      NewCode = NewCode.substring(0, a) + NewCode.substring(b + 1);
    }
    return NewCode;
  }
  Encode2(LevelCode) {
    let Temp = "";
    let NewCode = LevelCode;
    for (let i = LevelCode.length - 1, j = 0; i >= 0; i--) {
      j = 0;
      Temp = LevelCode.substring(i, i + 1);
      for (
        let k = 1;
        i - k >= 0 && Temp === LevelCode.substring(i - k, i - k + 1);
        k++
      ) {
        if (k > 4) j = k + 1;
      }
      if (j > 0) {
        NewCode =
          NewCode.substring(0, i - j + 1) +
          "(" +
          j +
          ")" +
          Temp +
          NewCode.substring(i + 1);
        i -= j - 1;
      }
    }
    return NewCode;
  }
  LoadLevel(PData) {
    if (!PData.Replaying && !PData.Dead) {
      PData.CurrentReplay = "";
      PData.CodeIndex = 0;
      PData.K.TimeUp = false;
      PData.K.TimeDown = false;
      PData.K.Dash = false;
      PData.K.Left = false;
      PData.K.Right = false;
      PData.K.Down = false;
      PData.K.Up = false;
      PData.Attempts = 1;
    }
    if (PData.Dead) {
      PData.Attempts++;
      if (!PData.Replaying) PData.S.TotalDeaths++;
    }
    PData.Dead = false;
    if (PData.Replaying) PData.ReplayTime += PData.Time;
    PData.Time = 0;
    if (PData.TimeSpeed !== 0) PData.TimeSpeed = 1;
    PData.Keys = 0;
    PData.M.X = 26;
    PData.M.Y = 436;
    PData.M.XVel = 0;
    PData.M.YVel = 0;
    PData.M.XFric = 0.9;
    PData.M.YFric = 1;
    PData.M.Gravity = true;
    PData.M.OnGround = true;
    PData.M.Dash = true;
    PData.M.DashDisabled = false;
    PData.M.GravityFlip = false;
    PData.M.InPortal = false;
    PData.M.InPortal2 = false;
    if (this.MainCode(PData.Level) !== -1)
      PData.Code = this.MainCode(PData.Level);
    PData.NumList = this.Decode(PData.Code.substring(PData.CodeIndex));
  }
  MainCode(Level) {
    if (Level === 1)
      return "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000l5lg04llgg45ll000000g050wQ00gr4005b00000g0500400gg40050000a0gb5004b0gg40wR0000k4g054k400kkk005k4k4@:";
    if (Level === 2)
      return "00000000000010wwMM00000000000000118gMM00000000000000008gMM00000000000000008gMM00000000100000008gMM00000000100000008gMM00000000100000008gMM00000000100000008gMM00000000100000008gMM00000000100000008gMM00000000100000008gMM00000000300000008gMM00000000000000008gMM00000g00300000008gMM0000gw00100000008gMM0000gw00100000008gMM00000g00100000008gMM00000g00100000008gMM00000g00100000008gMM001h0g00100000111h1h1h@kik0:";
    if (Level === 3)
      return "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001h1h1g000000000000000000100000000000000000001000000000000000000016mCmC1g000000002y0g60wg001000000000000g00033P1g00000000000g00010000000000001h0g000100000000001h@1fsL:";
    if (Level === 4)
      return "0000000g0000000000000000000g0000000000000000000g000000000000000000MT1h1g00000000000000MT000000000000000000MT000000000000000000MT000000000000000000MT000000000000000000MT000000000000000000MT000000000000000000MT000000000000000000MT000000000000000000MT000000000000000000MT000000000000000000MT000000000000000000MT000000000000000000MT00000000000000000007000000000000a00000070000000000001h1h1h3h00000000001h@:";
    if (Level === 5)
      return "000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M3003000M000M3003000M30032y0M000M3003000M30030000000M3003000M3003##1h@1j505j909jd0djh0hjl0ljp0:";
    if (Level === 6)
      return "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000033P3P3P000000000000030000000000000000000300000000002w00000003000000000000000000030000000000000000000300000000001h000000030000000000@:";
    if (Level === 7)
      return "0300003000000M0000000300003000000M0000000300003000000M00000003000M3003000M333P0003000M30wP000M3000b003000M3003000M30wM0003000X3003000M30000003000M0003b00M30033P03000M0003000M30wM003Pb00M0003000X3000b000003P3P3P000M30000000000M3000000M333P0000000M30wM000M3000b000000M3000000M30wM0000000M30033P0M30000000000M3003000M30033P00000M30wP3P0M30000000000M30000000300000a0000M30000000300000b0000M30000000311h1h@:";
    if (Level === 8)
      return "00000M000M000M000100000M0M0M0M0M0M0M0100000M0M0M0M0M0M0M0100000M000M000M000M0100E8E8E8E8E8E8E8E22x003P3P3P3P3P3P3P3M01000000000000000000010000000000000000000100000000000000000001002yhC6hhC6hhC6hhxhx00003P3P3P3P3P3P3P3N000000000000000000010000000000000000000100000000000000000001006h6h6h6h6h6h6h6i2x003P3P3P3P3P3P3P3M01000000000000000000010000000000000000000100000000000000000001001hhx6h1m1hhx6h1hhx1h@13s1:";
    if (Level === 9)
      return "0000000M0M0M00000111000g000M000M00000111000g000M0M0M00000111000g00000M000000011N001h8oE8E8E81h1i2x11000g000M0003000001111h0g300M000P000001WM0000300M000P000001##00003000000M000001002y1h1h1h1h1h1h1hhx000000000000000000010000000M000M000M00010000000M000M000M00010000000M000M000M0001006h1h1h1h1h1h1h1i2x00000000000000000001000000000000000000010000303030030303000100003030300303030001001h1h1h1h1h1h1h1hhx1h@15r4t61i:";
    if (Level === 10)
      return "csYcY1YcYcYcYcYcY1Ycch1sch1sch1h1h1hch1schNccsNcchYcYcYccsNcchNcchN1chNc1h1schNcchNcchYcchNcYcNcchYcchNc1h1schN1ch1schN1csNcYcNcchYcchYcchYcch1h1hNcchNcchN1ch1hcsYccsNcY1NcchYcchYc1h1sch1h1h1sch1s1hNccsYccsYcY1YccsNcY1Ncch1sch1hchN11hN1chNccsNccsYcchYcY1YcchNc1hNc1h1sch1hch1schNcchNccsYccsYcY1YccsNcchNc1hN11hN11hN11h1scsNcY1NcY1NccsNccsYc1h1hchN1chNcch1sch1h0hcsY1YcY1YccsYccsYc0h1h1h1h1h1h1h1h1h1h@1j10:";
    if (Level === 11)
      return "0k0001000000000001wg0h1g0h1g0h!K!K!x0h1g0h100g100h0000000g100h100j114h101h1g0h100h100h000h1000100h000h101h1g0h110h3g0h110g1000105h000h000h000h1m3j100j100h110h1x0g000g1003100h000h001h1g0h8oE31g0h1g3h110g000M0003000g1001100h1g0N1h0j116h110h100gh00M000j0001000N111hh07TnM0hnTgN3g0N109hh00M000g0001000M100hh01h111h111h111h1k0gh0011b01100g190g001h1h0h110h120h1g0h1h0h0M010001000g000g000h1h1h0g111h1tZg1h1h@323wt8tGtbtM1j10:";
    if (Level === 12)
      return "00000000000000003P3P0000000000000000cYY30000000000000000cPcP0000000000000000cPY30000000000000000cPP30000000000000000cPY30000000000000000cPcP0000000000000000cPY30000000000000000cPP30000000000000000cPY30000000000000000cPcP0000000000000000cPY30000000000000000cPP30000000000000000cPY30000000000000000cPcP1h0h1h0h3N1g111hcPY3000h000h00101001cPP3003P003P00331M03cP0100Yc00Yc00ccM00cY3011h3P1hmC1h3P1N1j3P1h@:";
    if (Level === 13)
      return "00000000001010001000000000000010100010000000000000101000100000000000031010001000000000000110100010000000000001101000100000000000031010001000000000000110100010000000000001101000100000000000031010001000000000000110100010000000000001101000100000000000031030003000000000000110000000000000000001100030000000000000031030303000000000000100103010003P3P3P3M010010301000a00000000100103010001j3h1P3h1h1g10301011@:";
    if (Level === 14)
      return "E87TjUE3nT8Uz8E30100000M3003000M300301b0000M3003000M30030100000M3003000M30011h00000000000000000001000g000000000000000100001h00Mgd00d00Mg0100009g0000000000000100000g0000000000000100003j3P3P3P3P3P3P3N000000000000000000010000000000000000000100b00M3003000M300301001h4Qj5ljk45Rjkk3210000000000000000000100000000000000000001000003000M3003000M21000003000M3003000M01000003000M3003000M01001h1h1h1h1h1h1h1h1h1h@1esx:";
    if (Level === 15)
      return "3P3P3P3P3P3P3M000000YcY3YccY000030000000YccYPcY3003030000000Yc3P3P3P0M003eMK!zgCYc0M0003000030000300Yc0M0003000030000300Yc0M0003006030000366000M3003gz003eSKe300000M3003000030000300000030030003300003mw00003003000030000300000030wP060030!Kuz00mCjz3M030000300003gC00wg3003300630000300000M3003000030000300000g3003003036!w!z1h000r0003000000000300000g0003600000000300000g00030000000003001h6mmCmz00606e!C!z1h@1hsM:";
    if (Level === 101)
      return "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111h1h00000000000000111h1h00000000000000111h1h00000000000000111h1h00000000000000111h1h00000000111h1h1h1h1h0000000010000000000100000000100000000001001h1h1h1g00000000011h@:";
    if (Level === 102)
      return "000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002y0000000000000000000000000000000000000000000000000000033P002w00000000000000010000000000000000000100000000000000000001001h3P3P3P3P3P3P3O2x000000000000000000010000000000000000000100000000000000001N1h00000000000000001N1h00000000000000001N1h001h001h001h3P1h1N1h1h@:";
    if (Level === 103)
      return "000000000000g0000000000000000000g0000000000000000000g0000000000000000000g0000000000000000000g00000000000000000k4g00000000000000000gg000000000000000000gg0000000000000000llgg0000000000000000g0000000000000000000g00000000000000000k4g00000000000000000gg000000000000000000gg0000000000000000llgg00000000000000000000000000000000000000000000000000001h2h000000000000000000wx00000000000000001h1h000000000000001h@:";
    if (Level === 104)
      return "0000000000000000000000000000000000000000000000000000000000001h#############N1h000000000000000000010000000000000000000100000000000000000001001hmCmCmCmCmCmCmy2x0000000000000000000100000000000000000M0100000000000000000M01002y!K!K!K!K!K!KNx1h0000MMf00f00000000010000MMf00f00000000010000MMf00f0000000001001h7nhTnNnTnTnTnO2x000000000000000000010000000000000000000100000000000000000001001hnTnTnN1hE8E8E11h1h@:";
    if (Level === 105)
      return "Zg0000000000000000000000000000000000000000000000000000000000000d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d00000d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d00000000000000000000000000000000000000000000000000000000000000001x1h1h1h1h0g00000000wM000000000g000000001h1h1h1h1h0g00000000@:";
    if (Level === 106)
      return "00000010000000000100000000100000000001000000001000000000010000000M111h1h1h1h1h0000000M1cYcYcYcYcY10000000M1cYcYcYcYcc12y00000M1cYcYcYcYcY1##00000M1cY33P3P3P3N##00000M1cYcYcYcYcY1##00000M1cYcYcYcYcY1Yc00000M1cYcYcYcYcY1Yc00000M133P3P3P3YY1Yc00000M1cYcYcYcYcY1Yc00000M1cYcYcYcYcY1Yc00000M1cYcYcYcYcY1Yc1h1h1h1h1h1h1h1h1hYc000000100000000001Yc00000010000000000100000000100000000091001h1h1h1h1h1h1h1h1h1h@s3s0o5s23c338ecd8icici8imi1K:";
    return -1;
  }
};
